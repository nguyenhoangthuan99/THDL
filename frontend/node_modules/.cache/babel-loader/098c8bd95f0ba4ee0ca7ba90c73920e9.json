{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/alex.nguyen/Desktop/git/THDL/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/alex.nguyen/Desktop/git/THDL/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/alex.nguyen/Desktop/git/THDL/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/alex.nguyen/Desktop/git/THDL/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/alex.nguyen/Desktop/git/THDL/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/alex.nguyen/Desktop/git/THDL/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/alex.nguyen/Desktop/git/THDL/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import\"./index.css\";import Image from\"../../Base/Image.jsx\";import{events}from\"../../dummydb/dbEvents\";import api from\"../../Base/fetchData\";import ViewMore from\"../Common/ViewMore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Element=/*#__PURE__*/function(_React$Component){_inherits(Element,_React$Component);var _super=_createSuper(Element);function Element(props){var _this;_classCallCheck(this,Element);_this=_super.call(this,props);_this.state={title:_this.props.title,task:_this.props.task,web:_this.props.web,list:[],activeIndex:null,page:1,loading:false};return _this;}_createClass(Element,[{key:\"componentDidMount\",value:function componentDidMount(){this.Search();}},{key:\"seeMore\",value:function seeMore(){this.setState({page:this.state.page+1});this.SearchMore();}},{key:\"Search\",value:function(){var _Search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var task_id,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:task_id=this.props.task.results[this.props.web];this.setState({loading:true});_context.next=4;return api.getResult(task_id);case 4:result=_context.sent;this.setState({list:[].concat(_toConsumableArray(this.state.list),_toConsumableArray(result))});this.setState({loading:false});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function Search(){return _Search.apply(this,arguments);}return Search;}()},{key:\"SearchMore\",value:function(){var _SearchMore=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var body,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.setState({loading:true});body={\"type\":this.props.type,\"subject\":this.props.subject,\"grade\":this.props.grade,\"level\":this.props.level,\"text\":this.props.text,\"page\":this.state.page};_context2.next=4;return api.searchOneWeb(body,this.state.web);case 4:result=_context2.sent;this.setState({list:[].concat(_toConsumableArray(this.state.list),_toConsumableArray(result))});this.setState({loading:false});case 7:case\"end\":return _context2.stop();}}},_callee2,this);}));function SearchMore(){return _SearchMore.apply(this,arguments);}return SearchMore;}()},{key:\"render\",value:function render(){var viewMoreActive=this.state.list.length>this.state.limit;return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper-items\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:this.state.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"eventsItems\",children:this.state.list.slice(0,this.state.limit).map(function(item,index){return/*#__PURE__*/_jsx(\"a\",{href:item.link,target:\"_blank\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"eventsItem\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"eventsDate\",children:/*#__PURE__*/_jsx(\"img\",{src:Image.vsdx})}),/*#__PURE__*/_jsxs(\"div\",{className:\"eventsContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"eventsItemTitle\",children:[\" \",item.title]}),/*#__PURE__*/_jsxs(\"div\",{className:\"eventsItemTime\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"eventsIcon\",src:Image.clock}),/*#__PURE__*/_jsx(\"div\",{className:\"eventsItemStartEnd\",children:item.date})]})]})]},index)});})}),/*#__PURE__*/_jsx(\"div\",{className:\"view-more\",children:viewMoreActive&&/*#__PURE__*/_jsx(ViewMore,{className:\"viewmore\",onClick:this.seeMore.bind(this)})})]});}}]);return Element;}(React.Component);export{Element as default};","map":{"version":3,"names":["React","Image","events","api","ViewMore","Element","props","state","title","task","web","list","activeIndex","page","loading","Search","setState","SearchMore","task_id","results","getResult","result","body","type","subject","grade","level","text","searchOneWeb","viewMoreActive","length","limit","slice","map","item","index","link","vsdx","clock","date","seeMore","bind","Component"],"sources":["C:/Users/alex.nguyen/Desktop/git/THDL/frontend/src/Components/Events/Element.jsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./index.css\";\r\nimport Image from \"../../Base/Image.jsx\"\r\nimport {events} from \"../../dummydb/dbEvents\"\r\nimport api from \"../../Base/fetchData\"\r\nimport ViewMore from \"../Common/ViewMore\";\r\nexport default class Element extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            title:this.props.title,\r\n            task:this.props.task,\r\n            web:this.props.web,\r\n            list: [],\r\n            activeIndex:null,\r\n            page:1,\r\n            loading:false\r\n        }\r\n        \r\n    };\r\n    componentDidMount(){\r\n        this.Search();\r\n    }\r\n    seeMore(){\r\n        this.setState({page:this.state.page+1});\r\n        this.SearchMore();\r\n    };\r\n    async Search(){\r\n        var task_id = this.props.task.results[this.props.web];\r\n        this.setState({loading:true})\r\n        var result= await api.getResult(task_id);\r\n        this.setState({list:[...this.state.list,...result]})\r\n        this.setState({loading:false})\r\n    }\r\n    async SearchMore(){\r\n        this.setState({loading:true})\r\n        var body = {\r\n            \"type\": this.props.type,\r\n            \"subject\": this.props.subject,\r\n            \"grade\": this.props.grade,\r\n            \"level\": this.props.level,\r\n            \"text\": this.props.text,\r\n            \"page\": this.state.page\r\n        }\r\n        var result= await api.searchOneWeb(body,this.state.web);\r\n        this.setState({list:[...this.state.list,...result]})\r\n        this.setState({loading:false})\r\n    }\r\n    render(){\r\n        let viewMoreActive = this.state.list.length > this.state.limit;\r\n        return(\r\n            <div className=\"wrapper-items\">\r\n                <div><h2>{this.state.title}</h2></div>\r\n                <div className=\"eventsItems\">\r\n                \r\n                    {\r\n                        this.state.list.slice(0,this.state.limit).map((item,index) => (   \r\n                                \r\n                            <a href={item.link} target=\"_blank\">\r\n                                <div key={index} className=\"eventsItem\">\r\n                                    <div className=\"eventsDate\">\r\n                                    <img src={Image.vsdx}></img>\r\n                                    </div>\r\n                                    <div className=\"eventsContent\">\r\n                                    <div className=\"eventsItemTitle\"> {item.title}</div>\r\n                                    <div className=\"eventsItemTime\">\r\n                                        <img className=\"eventsIcon\" src={Image.clock}/>\r\n                                        <div className=\"eventsItemStartEnd\">{item.date}</div>\r\n                                    </div>\r\n                                    </div>\r\n                                </div>\r\n                            </a>\r\n                    ))\r\n                    }\r\n                    \r\n                </div>\r\n                <div className=\"view-more\">{viewMoreActive &&\r\n                        <ViewMore  className=\"viewmore\"  onClick={this.seeMore.bind(this)}/> }\r\n                    </div>\r\n            </div>\r\n        )\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}